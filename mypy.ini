# ==========================
# mypy.ini — упрощённая и безопасная конфигурация
# ==========================

[mypy]
python_version = 3.11
ignore_missing_imports = True
follow_imports = silent
allow_redefinition = True
pretty = True
incremental = True

# Типы ошибок, которые mypy будет игнорировать (чтобы не падал на динамических конструкциях)
disable_error_code = arg-type, attr-defined, call-arg, misc, no-redef, var-annotated

# Эти флаги ослабляют строгую проверку, но не убирают типизацию совсем
warn_unused_ignores = False
disallow_untyped_defs = False
disallow_incomplete_defs = False
check_untyped_defs = False
no_implicit_optional = True
warn_return_any = False
warn_unreachable = False

# Плагины (если установлен pydantic)
plugins = pydantic.mypy

# -------------------------------
# Модули, которые стоит полностью игнорировать
# -------------------------------
[mypy-configs.*]
ignore_errors = True

[mypy-alembic.*]
ignore_errors = True

[mypy-app.graphql.*]
ignore_errors = True

[mypy-app.bootstrap]
ignore_errors = True

[mypy-app.admin_panel]
ignore_errors = True

[mypy-passlib.*]
ignore_missing_imports = True

[mypy-jose.*]
ignore_missing_imports = True

[mypy-strawberry.*]
ignore_missing_imports = True

[mypy-sqlalchemy.*]
ignore_missing_imports = True

[mypy-sqlmodel.*]
ignore_missing_imports = True

[mypy-uvicorn.*]
ignore_missing_imports = True

[mypy-itsdangerous.*]
ignore_missing_imports = True
